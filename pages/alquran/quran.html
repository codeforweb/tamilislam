---
title:
layout: default
---

	<input type="text" id="ayath" placeholder="Search in this Quran">
	<button class="searchBtn" onClick="searchQuran()">Search Quran</button>

<div id='container'>

	<table width="100%" style="margin-top:1rem;text-align: center;border:0px;">
	<tr class="tamil1">
		<td style="border:0px;" colspan="3"><h2><span id="name"></span> &nbsp; <span id="translator"></span></h2></td>
	</tr>
	<tr>
		<td style="border:0px;" width="25%"> <span id="prev">&nbsp; </span></td>
		<td style="border:0px;"> <h2><span id="breadcrumb"></a></span> </h2> </td>
		<td style="border:0px;" width="25%"><span id="next">&nbsp; </span></td>
	</tr>
		
	</table>

	<!-- <h2 id="name"></h2><h3 id="translator"></h3> -->

	<div id="entry-template" style="display: none">
		{#quran}			
			    <div class="tblrow">

					{@select}
     					{@eq key="{.SuraID}" value="{surahno}"}{/eq}
     					{@pte key="{.AyahText}" value="{ayath}"}{/pte}
			    		{@any}
			    			<span class="number" id="{.VerseID}">{.SuraID}:{.VerseID}</span><br/>
			    			<div class="ayath">{.AyahText} </div>
			    		{/any}
					  {/select}
			    </div>	    
		{/quran}
	</div>

	<div id="tblcontainer">
			<div class="tblhead">
		    	<div class="ayath">&nbsp;</div>
		    </div>
		
	</div>
</div>


<script src="{{ site.baseurl }}/js/dust-full.min.js"></script>
<script src="{{ site.baseurl }}/js/dust-helpers.js"></script>
<script src="{{ site.baseurl }}/js/main.js"></script>
<script type="text/javascript">

	onload = function() {
		var params = (new URL(document.location)).searchParams;
		var langCode = params.get("langCode");
		var surahno = params.get("surahno");
		var ayath = params.get("ayath");

		loadtranslationdetails(langCode, surahno);
		loadQuranVerses(langCode, surahno, ayath);
	}

	function loadQuranVerses(langCode, surahno, ayath){
		var jsonFile = langCode + "/"+ langCode + "_" + "quran.json";
		var source   = document.getElementById('entry-template').innerHTML
		var compiledVar = "quranverses";
		compileAndRender(source, compiledVar, jsonFile, '#tblcontainer', langCode, surahno, ayath)

	}

	function loadtranslationdetails(langCode, surahno){
				var jsonFile =  "lang.json";
				var surahno = parseInt(surahno);
				var langCode = langCode;

				fetch(jsonFile)
				  .then(response => response.json())
				  .then(data => {
						var newArray = data.languages.filter(function (el) {
						  return el.DatabaseID === langCode;
						});
						var name = newArray[0].Name;
						var translator = newArray[0].Translator;
						document.getElementById('name').innerHTML = name;
						document.getElementById('translator').innerHTML = translator;

						/*
						let url = new URL(document.location)
						var params = url.searchParams;
						var surahno = parseInt(params.get('surahno'));
						params.delete('surahno');
						*/
						var quranindex ='index.html?langCode=' + langCode;				
						var quranurl = 'quran.html?langCode=' + langCode;

						if(surahno >1){

							document.getElementById('prev').innerHTML = '<a href="'+ quranurl + '&surahno='+ (surahno-1) +'"><<< முந்தைய அத்தியாயம் </a>';
						}

						if(surahno < 114){
							document.getElementById('next').innerHTML = '<a href="'+ quranurl + '&surahno='+ (surahno +1 ) +'"> அடுத்த அத்தியாயம் >>> </a>';
						}

						document.getElementById('breadcrumb').innerHTML = '&nbsp;  <a href="{{ site.baseurl }}/"> முகப்பு </a>' +  '--> &nbsp;  <a href="'+ quranindex+'"> அத்தியாயங்கள் </a>';
						
				  	});
	}

</script>

